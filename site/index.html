<!DOCTYPE html>
<html xmlns:fb="http://ogp.me/ns/fb#" lang="en" ng-app>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes" />

  <title>When Works</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="/css/style.css" rel="stylesheet">

  <!-- These are Open Graph tags.  They add meta data to your  -->
  <!-- site that facebook uses when your content is shared     -->
  <!-- over facebook.  You should fill these tags in with      -->
  <!-- your data.  To learn more about Open Graph, visit       -->
  <!-- 'https://developers.facebook.com/docs/opengraph/'       -->
  <meta property="og:title" content="When Works" />
  <meta property="og:type" content="" />
  <meta property="og:url" content="" />
  <meta property="og:image" content="When Works" />
  <meta property="og:site_name" content="When Works" />
  <meta property="og:description" content="Figure out when is the best time for your event." />
  <meta property="fb:app_id" content="" />

  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script>
  <script src="/js/moment.min.js"></script>
  <script src="/js/site.js"></script>
  <!--[if IE]>
    <script type="text/javascript">
      var tags = ['header', 'section'];
      while(tags.length)
        document.createElement(tags.pop());
    </script>
  <![endif]-->
</head>
<body>
<div class="container">

<header class="clearfix">
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li class="active"><a class="brand" href="/">When Works</a>
          </ul>
          <form class="navbar-form pull-right">
            <a href="/create/">
              <button type="submit" class="btn btn-primary">Schedule an Event</button>
            </a>
          </form>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>
</header>

<div id="fb-root"></div>

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3">
      <div class="well sidebar-nav">
        <ul class="nav nav-list" id="fb-event-list">
          <li class="nav-header">Your Facebook Events</li>
          <li class=""><a href="#" data-id="526658637360283">NY Hackathon test</a></li>
          <li class=""><a href="#" data-id="112926145526692">FINAL Facebook Hackathon Test Event</a></li>
          <li class=""><a href="#" data-id="460748207292271">Facebook New York Hackathon</a></li>
        </ul>
      </div><!--/.well -->
    </div><!--/span-->

<table cellpadding="0" cellspacing="0" id="meme" ng-controller="CalendarCtrl">
<thead>
  <tr>
    <th ng-repeat="day in days">{{ day|date:'EEEE,' }}<br>{{ day|date:'MMMM d' }}</th>
  </tr>
</thead>
<tbody>
  <tr ng-repeat="hour in hours">
    <td ng-repeat="day in days">{{ hour }}</td>
  </tr>
</tbody>
</table>

<form method="POST" id="create-form">
  <input type="hidden" name="fb-event-id" id="fb-event-id"/>
  <input type="hidden" name="fb-times" id="fb-times"/>
  <input id="go" type="submit" class="btn pull-right" name="submit"
  disabled="disabled" value="Choose an Event First"
  />
</form>

<hr>
<footer>
  <p>Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. Icons from <a href="http://glyphicons.com">Glyphicons Free</a>, licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
  <p>&copy; Facebook NY Hackathon 2012</p>
</footer>

</div>

<script type="text/javascript">
window.fbAsyncInit = function() {
  FB.init({
    appId      : '', // App ID
    // channelUrl : '', // Channel File
    status     : true, // check login status
    cookie     : true, // enable cookies to allow the server to access the session
    xfbml      : true // parse XFBML
  });

  // Listen to the auth.login which will be called when the user logs in
  // using the Login button
  FB.Event.subscribe('auth.login', function(response) {
    // We want to reload the page now so Ruby can read the cookie that the
    // Javascript SDK sat. But we don't want to use
    // window.location.reload() because if this is in a canvas there was a
    // post made to this page and a reload will trigger a message to the
    // user asking if they want to send data again.
    window.location = window.location;
  });

  FB.Canvas.setAutoGrow();
};

// Load the SDK Asynchronously
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>

</body>
</html>
